(this.webpackJsonpblocklyDemo=this.webpackJsonpblocklyDemo||[]).push([[0],{17:function(e,t,n){},27:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var i=n(1),s=n.n(i),o=n(8),l=n.n(o),r=(n(17),n(9)),a=n(10),c=n(2),d=n(12),h=n(11),u=n(3),b=n.n(u),p=n(7),y=n.n(p);n(27);var f=n(0),v=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).state={code:""},i.handleChange=i.handleChange.bind(Object(c.a)(i)),i.handleSubmit=i.handleSubmit.bind(Object(c.a)(i)),i.handleResize=i.handleResize.bind(Object(c.a)(i)),i}return Object(a.a)(n,[{key:"handleChange",value:function(e){e instanceof b.a.Events.Ui||(this.setState({code:y.a.workspaceToCode(this.workSpace)}),this.handleResize(null))}},{key:"handleSubmit",value:function(){console.log("hello")}},{key:"handleResize",value:function(e){var t=this.blocklyArea,n=0,i=0;do{n+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent}while(t);this.blocklyDiv.style.left=n+"px",this.blocklyDiv.style.top=i+"px",this.blocklyDiv.style.width=this.blocklyArea.offsetWidth+"px",this.blocklyDiv.style.height=this.blocklyArea.offsetHeight+"px",b.a.svgResize(this.workSpace)}},{key:"componentDidMount",value:function(){var e,t;this.blocklyArea=document.getElementById("blocklyArea"),this.blocklyDiv=document.getElementById("blocklyDiv"),this.workSpace=b.a.inject("blocklyDiv",{toolbox:document.getElementById("toolbox")}),e=b.a,t=y.a,this.workSpace,e.defineBlocksWithJsonArray([{type:"env",message0:'"\u74b0\u5883\u5909\u6570 %1"',output:"String",style:"text_blocks",args0:[{type:"field_input",name:"NAME"}],extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"argv",message0:"[\u5b9f\u884c\u6642\u5f15\u6570]",output:"Array",style:"list_blocks"},{type:"curl",message0:"curl http://%1:%2/%3",output:"Array",style:"procedure_blocks",args0:[{type:"field_input",name:"HOST"},{type:"field_number",name:"PORT",value:80,min:0,max:65535},{type:"field_input",name:"PATH"}]}]),t.env=function(n){return t.definitions_.os="import os",["os.environ.get('"+n.getFieldValue("NAME")+"')",e.Python.ORDER_ATOMIC]},t.argv=function(n){return t.definitions_.sys="import sys",["sys.argv",e.Python.ORDER_ATOMIC]},t.curl=function(n){t.definitions_.urllib="import urllib.request, urllib.error",t.definitions_.curl='def curl(host,port,path):\n    try:\n        with urllib.request.urlopen("http://{}:{}/{}".format(host,port,path)) as res:\n            return (res.code, res.read())\n    except urllib.error.HTTPError as res:\n        return (res.code, res.read())\n    except urllib.error.URLError as err:\n        return (0, err.reason)';var i=n.getFieldValue("HOST"),s=n.getFieldValue("PORT"),o=n.getFieldValue("PATH");return['curl("'.concat(i,'",').concat(s,',"').concat(o,'")'),e.Python.ORDER_ATOMIC]},t.addReservedWords("code"),this.workSpace.addChangeListener(this.handleChange),window.addEventListener("resize",this.handleResize,!1),this.handleResize(),b.a.svgResize(this.workSpace)}},{key:"render",value:function(){this.state.code.split("\n").map((function(e,t){return Object(f.jsxs)("span",{children:[e,Object(f.jsx)("br",{})]},t)}));return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)("h1",{children:"blockly demo"}),Object(f.jsx)("table",{style:{width:"100%"},children:Object(f.jsx)("tbody",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{id:"blocklyArea",style:{height:"600px",width:"50%"}}),Object(f.jsx)("td",{children:Object(f.jsx)("textarea",{value:this.state.code,style:{height:"600px",width:"100%"}})})]})})}),Object(f.jsx)("div",{id:"blocklyDiv",style:{position:"absolute"}})]})}}]),n}(s.a.Component),g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,30)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,o=t.getLCP,l=t.getTTFB;n(e),i(e),s(e),o(e),l(e)}))};l.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(v,{})}),document.getElementById("root")),g()}},[[29,1,2]]]);
//# sourceMappingURL=main.225a9dd0.chunk.js.map
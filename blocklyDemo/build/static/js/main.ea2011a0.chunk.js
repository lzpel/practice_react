(this.webpackJsonpblocklyDemo=this.webpackJsonpblocklyDemo||[]).push([[0],{17:function(e,t,n){},27:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var o=n(1),i=n.n(o),s=n(8),r=n.n(s),l=(n(17),n(9)),a=n(10),c=n(2),h=n(12),d=n(11),u=n(3),b=n.n(u),y=n(7),p=n.n(y);n(27);var v=n(0),f=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var o;return Object(l.a)(this,n),(o=t.call(this,e)).state={code:""},o.handleChange=o.handleChange.bind(Object(c.a)(o)),o.handleSubmit=o.handleSubmit.bind(Object(c.a)(o)),o.handleResize=o.handleResize.bind(Object(c.a)(o)),o}return Object(a.a)(n,[{key:"handleChange",value:function(e){e instanceof b.a.Events.Ui||(this.setState({code:p.a.workspaceToCode(this.workSpace)}),this.handleResize(null))}},{key:"handleSubmit",value:function(){console.log("hello")}},{key:"handleResize",value:function(e){var t=this.blocklyArea,n=0,o=0;do{n+=t.offsetLeft,o+=t.offsetTop,t=t.offsetParent}while(t);this.blocklyDiv.style.left=n+"px",this.blocklyDiv.style.top=o+"px",this.blocklyDiv.style.width=this.blocklyArea.offsetWidth+"px",this.blocklyDiv.style.height=this.blocklyArea.offsetHeight+"px",b.a.svgResize(this.workSpace)}},{key:"componentDidMount",value:function(){var e,t;this.blocklyArea=document.getElementById("blocklyArea"),this.blocklyDiv=document.getElementById("blocklyDiv"),this.workSpace=b.a.inject("blocklyDiv",{toolbox:document.getElementById("toolbox")}),e=b.a,t=p.a,this.workSpace,e.defineBlocksWithJsonArray([{type:"env",message0:'"\u74b0\u5883\u5909\u6570 %1"',output:"String",style:"text_blocks",args0:[{type:"field_input",name:"NAME"}],extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"argv",message0:"[\u5b9f\u884c\u6642\u5f15\u6570]",output:"Array",style:"list_blocks"},{type:"curl",message0:"PORT:%2 http://%1\n/%3",output:"Array",style:"procedure_blocks",args0:[{type:"input_value",name:"HOST",check:"String"},{type:"input_value",name:"PORT",check:"Number"},{type:"input_value",name:"PATH",check:"String"}]}]),t.env=function(n){return t.definitions_.os="import os",["os.environ.get('"+n.getFieldValue("NAME")+"')",e.Python.ORDER_ATOMIC]},t.argv=function(n){return t.definitions_.sys="import sys",["sys.argv",e.Python.ORDER_ATOMIC]},t.curl=function(n){t.definitions_.urllib="import urllib.request, urllib.error",t.definitions_.curl='def curl(host,port,path):\n    try:\n        with urllib.request.urlopen("http://{}:{}/{}".format(host,port,path)) as res:\n            return (res.code, res.read())\n    except urllib.error.HTTPError as res:\n        return (res.code, res.read())\n    except urllib.error.URLError as err:\n        return (0, err.reason)';var o=e.Python.valueToCode(n,"HOST",e.Python.ORDER_NONE)||"''",i=e.Python.valueToCode(n,"PORT",e.Python.ORDER_NONE)||"0",s=e.Python.valueToCode(n,"PATH",e.Python.ORDER_NONE)||"''";return["curl(".concat(o,",").concat(i,",").concat(s,")"),e.Python.ORDER_ATOMIC]},t.addReservedWords("code"),this.workSpace.addChangeListener(this.handleChange),window.addEventListener("resize",this.handleResize,!1),this.handleResize(),b.a.svgResize(this.workSpace)}},{key:"render",value:function(){this.state.code.split("\n").map((function(e,t){return Object(v.jsxs)("span",{children:[e,Object(v.jsx)("br",{})]},t)}));return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)("h1",{children:"blockly demo"}),Object(v.jsx)("table",{style:{width:"100%"},children:Object(v.jsx)("tbody",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{id:"blocklyArea",style:{height:"600px",width:"50%"}}),Object(v.jsx)("td",{children:Object(v.jsx)("textarea",{value:this.state.code,style:{height:"600px",width:"100%"}})})]})})}),Object(v.jsx)("div",{id:"blocklyDiv",style:{position:"absolute"}})]})}}]),n}(i.a.Component),k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,30)).then((function(t){var n=t.getCLS,o=t.getFID,i=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),o(e),i(e),s(e),r(e)}))};r.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(f,{})}),document.getElementById("root")),k()}},[[29,1,2]]]);
//# sourceMappingURL=main.ea2011a0.chunk.js.map